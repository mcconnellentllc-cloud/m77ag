<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="M77 AG Custom Farming Services - Professional field operations including planting, harvesting, and tillage in Northeast Colorado. Volume discounts available.">
    <title>Custom Farming Services - M77 AG</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Bebas+Neue&family=Oswald:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f3f0;
            color: #2c2c2c;
        }

        /* Navigation */
        .nav-wrapper {
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .navbar {
            padding: 20px 0;
        }

        .navbar-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Oswald', sans-serif;
            font-size: 32px;
            font-weight: 700;
            color: #1a1a1a;
            text-decoration: none;
            letter-spacing: 2px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 40px;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: #4a4a4a;
            transition: 0.3s;
        }

        .nav-link {
            color: #4a4a4a;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: color 0.3s;
        }

        .nav-link:hover,
        .nav-link.active {
            color: #d4af37;
        }

        /* Hero Section */
        .hero {
            margin-top: 80px;
            height: 60vh;
            position: relative;
            display: flex;
            align-items: center;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.6)),
                        url('assets/images/planting-service.jpg') center/cover;
        }

        .hero-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            color: #fff;
        }

        .hero-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(48px, 8vw, 96px);
            line-height: 0.9;
            margin-bottom: 20px;
            letter-spacing: 2px;
        }

        .hero-subtitle {
            font-size: 20px;
            font-weight: 300;
            color: rgba(255, 255, 255, 0.9);
            max-width: 700px;
        }

        /* Services List */
        .services-list {
            padding: 80px 0;
            background: #fff;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-header h2 {
            font-family: 'Oswald', sans-serif;
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1a1a1a;
        }

        .section-header p {
            font-size: 18px;
            color: #666;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-bottom: 60px;
        }

        .service-item {
            background: #f8f7f5;
            padding: 30px;
            border-left: 4px solid #d4af37;
            transition: all 0.3s;
        }

        .service-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .service-name {
            font-family: 'Oswald', sans-serif;
            font-size: 24px;
            margin-bottom: 10px;
            color: #1a1a1a;
        }

        .service-price {
            font-size: 32px;
            font-weight: 700;
            color: #d4af37;
            margin-bottom: 10px;
        }

        .service-price span {
            font-size: 18px;
            font-weight: 400;
            color: #666;
        }

        .service-description {
            color: #666;
            line-height: 1.6;
        }

        /* Volume Discounts */
        .discounts-section {
            background: #2d5016;
            padding: 60px 0;
        }

        .discounts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
        }

        .discount-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .discount-percentage {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 72px;
            color: #d4af37;
            line-height: 1;
        }

        .discount-acres {
            font-family: 'Oswald', sans-serif;
            font-size: 24px;
            color: #fff;
            margin: 10px 0;
        }

        .discount-description {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Calculator Section */
        .calculator-section {
            padding: 80px 0;
            background: #f5f3f0;
        }

        .calculator-container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 60px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .calculator-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .calculator-header h2 {
            font-family: 'Oswald', sans-serif;
            font-size: 42px;
            margin-bottom: 15px;
            color: #1a1a1a;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 13px;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            font-size: 16px;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #d4af37;
        }

        .service-checkboxes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #f8f7f5;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .checkbox-item:hover {
            border-color: #d4af37;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-label {
            flex: 1;
            cursor: pointer;
        }

        .checkbox-price {
            font-weight: 600;
            color: #d4af37;
        }

        .btn-submit {
            width: 100%;
            padding: 20px;
            background: #d4af37;
            color: #1a1a1a;
            border: none;
            font-size: 18px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .btn-submit:hover {
            background: #1a1a1a;
            color: #d4af37;
        }

        .btn-submit:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Quote Summary */
        .quote-summary {
            margin-top: 40px;
            padding: 30px;
            background: #f8f7f5;
            border-left: 4px solid #d4af37;
            display: none;
        }

        .quote-summary.show {
            display: block;
        }

        .quote-title {
            font-family: 'Oswald', sans-serif;
            font-size: 28px;
            margin-bottom: 20px;
            color: #1a1a1a;
        }

        .quote-details {
            list-style: none;
        }

        .quote-details li {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #ddd;
            font-size: 16px;
        }

        .quote-details li:last-child {
            border-bottom: none;
        }

        .quote-total {
            font-size: 36px;
            font-weight: 700;
            color: #d4af37;
            margin-top: 20px;
            text-align: center;
        }

        .discount-notice {
            background: #e8f5e8;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            text-align: center;
            color: #2d5016;
            font-weight: 500;
        }

        .success-message {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 20px;
            margin-top: 20px;
            border-radius: 5px;
            display: none;
        }

        .success-message.show {
            display: block;
        }

        /* Footer */
        .footer {
            background: #0a0a0a;
            padding: 40px 0;
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
        }

        @media (max-width: 1024px) {
            .services-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .discounts-grid {
                grid-template-columns: 1fr;
            }

            .service-checkboxes {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #fff;
                flex-direction: column;
                padding: 20px;
                gap: 15px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            }

            .nav-menu.active {
                display: flex;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .calculator-container {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div class="nav-wrapper">
        <nav class="navbar">
            <div class="navbar-container">
                <a href="/" class="logo">M77 AG</a>

                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>

                <ul class="nav-menu" id="navMenu">
                    <li><a href="/" class="nav-link">Home</a></li>
                    <li><a href="/services" class="nav-link">Services</a></li>
                    <li><a href="/forsale" class="nav-link">Equipment</a></li>
                    <li><a href="/hunting" class="nav-link">Hunting</a></li>
                    <li><a href="/about" class="nav-link">About</a></li>
                    <li><a href="/internal" class="nav-link">Internal</a></li>
                </ul>
            </div>
        </nav>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">
                CUSTOM FARMING<br>
                SERVICES
            </h1>
            <p class="hero-subtitle">
                Professional field operations with state-of-the-art equipment and experienced operators.
                Volume discounts up to 14% for larger operations.
            </p>
        </div>
    </section>

    <!-- Services List -->
    <section class="services-list">
        <div class="container">
            <div class="section-header">
                <h2>Our Services & Pricing</h2>
                <p>All services include GPS-guided equipment and experienced operators</p>
            </div>

            <div class="services-grid">
                <div class="service-item">
                    <h3 class="service-name">Planting</h3>
                    <div class="service-price">$35<span>/acre</span></div>
                    <p class="service-description">Precision seed placement with GPS guidance, variable rate capable</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Disking</h3>
                    <div class="service-price">$25<span>/acre</span></div>
                    <p class="service-description">Field preparation and residue incorporation</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Ripping</h3>
                    <div class="service-price">$30<span>/acre</span></div>
                    <p class="service-description">Soil tillage for improved drainage and root penetration</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Deep Ripping</h3>
                    <div class="service-price">$40<span>/acre</span></div>
                    <p class="service-description">Subsoil management to break up compaction layers</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Harvesting - Corn</h3>
                    <div class="service-price">$45<span>/acre</span></div>
                    <p class="service-description">Claas 760 TT combine with yield monitoring</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Harvesting - Wheat</h3>
                    <div class="service-price">$40<span>/acre</span></div>
                    <p class="service-description">Efficient grain harvest with minimal loss</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Harvesting - Milo</h3>
                    <div class="service-price">$42<span>/acre</span></div>
                    <p class="service-description">Specialized settings for sorghum harvest</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Drilling</h3>
                    <div class="service-price">$28<span>/acre</span></div>
                    <p class="service-description">Accurate seeding for small grains and cover crops</p>
                </div>

                <div class="service-item">
                    <h3 class="service-name">Field Cultivation</h3>
                    <div class="service-price">$22<span>/acre</span></div>
                    <p class="service-description">Seedbed preparation and weed control</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Volume Discounts -->
    <section class="discounts-section">
        <div class="container">
            <div class="section-header">
                <h2 style="color: #fff;">Volume Discounts</h2>
                <p style="color: rgba(255,255,255,0.8);">Automatic savings for larger operations</p>
            </div>

            <div class="discounts-grid">
                <div class="discount-card">
                    <div class="discount-percentage">7%</div>
                    <div class="discount-acres">100+ Acres</div>
                    <p class="discount-description">Automatically applied for operations over 100 acres</p>
                </div>

                <div class="discount-card">
                    <div class="discount-percentage">10%</div>
                    <div class="discount-acres">200+ Acres</div>
                    <p class="discount-description">Increased savings for mid-size operations</p>
                </div>

                <div class="discount-card">
                    <div class="discount-percentage">14%</div>
                    <div class="discount-acres">300+ Acres</div>
                    <p class="discount-description">Maximum discount for large-scale operations</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Calculator Section -->
    <section class="calculator-section">
        <div class="container">
            <div class="calculator-container">
                <div class="calculator-header">
                    <h2>Get Your Quote</h2>
                    <p>Select services and enter your details for an instant quote</p>
                </div>

                <form id="farming-calculator">
                    <!-- Services Selection -->
                    <div class="form-group full-width">
                        <label class="form-label">Select Services *</label>
                        <div class="service-checkboxes">
                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="planting" data-price="35">
                                <span class="checkbox-label">
                                    Planting
                                    <span class="checkbox-price">$35/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="disking" data-price="25">
                                <span class="checkbox-label">
                                    Disking
                                    <span class="checkbox-price">$25/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="ripping" data-price="30">
                                <span class="checkbox-label">
                                    Ripping
                                    <span class="checkbox-price">$30/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="deep-ripping" data-price="40">
                                <span class="checkbox-label">
                                    Deep Ripping
                                    <span class="checkbox-price">$40/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="harvesting-corn" data-price="45">
                                <span class="checkbox-label">
                                    Harvesting - Corn
                                    <span class="checkbox-price">$45/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="harvesting-wheat" data-price="40">
                                <span class="checkbox-label">
                                    Harvesting - Wheat
                                    <span class="checkbox-price">$40/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="harvesting-milo" data-price="42">
                                <span class="checkbox-label">
                                    Harvesting - Milo
                                    <span class="checkbox-price">$42/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="drilling" data-price="28">
                                <span class="checkbox-label">
                                    Drilling
                                    <span class="checkbox-price">$28/acre</span>
                                </span>
                            </label>

                            <label class="checkbox-item">
                                <input type="checkbox" name="service" value="field-cultivation" data-price="22">
                                <span class="checkbox-label">
                                    Field Cultivation
                                    <span class="checkbox-price">$22/acre</span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Acres -->
                    <div class="form-group full-width">
                        <label class="form-label">Number of Acres *</label>
                        <input type="number" class="form-input" id="acres" name="acres"
                               placeholder="Enter total acres" min="1" required>
                    </div>

                    <!-- Contact Information -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Your Name *</label>
                            <input type="text" class="form-input" id="name" name="name"
                                   placeholder="Full name" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Phone Number *</label>
                            <input type="tel" class="form-input" id="phone" name="phone"
                                   placeholder="(555) 123-4567" required>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label class="form-label">Email Address *</label>
                        <input type="email" class="form-input" id="email" name="email"
                               placeholder="your@email.com" required>
                    </div>

                    <!-- Field Location -->
                    <div class="form-group full-width">
                        <label class="form-label">Field Location / Address</label>
                        <input type="text" class="form-input" id="location" name="location"
                               placeholder="City, State or specific field location">
                    </div>

                    <!-- Additional Notes -->
                    <div class="form-group full-width">
                        <label class="form-label">Additional Notes</label>
                        <textarea class="form-textarea" id="notes" name="notes"
                                  placeholder="Any special requirements or timing preferences"></textarea>
                    </div>

                    <button type="submit" class="btn-submit" id="submitBtn">Get Quote</button>
                </form>

                <!-- Quote Summary -->
                <div id="quote-summary" class="quote-summary">
                    <h3 class="quote-title">Your Quote</h3>
                    <ul class="quote-details" id="quote-details">
                        <!-- Populated by JavaScript -->
                    </ul>
                    <div class="quote-total" id="quote-total"></div>
                    <div class="discount-notice" id="discount-notice"></div>
                </div>

                <!-- Success Message -->
                <div id="success-message" class="success-message">
                    <strong>Request Submitted Successfully!</strong>
                    <p>We've received your quote request and will contact you at the provided phone number within 24 hours. A confirmation email has been sent to your email address.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>Â© 2025 M77 AG. All rights reserved. McConnell Enterprises LLC.</p>
    </footer>

    <script>
        // Mobile menu toggle
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('navMenu');

        hamburger.addEventListener('click', function() {
            navMenu.classList.toggle('active');
        });

        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });

        // Service pricing
        const SERVICE_PRICES = {
            'planting': 35,
            'disking': 25,
            'ripping': 30,
            'deep-ripping': 40,
            'harvesting-corn': 45,
            'harvesting-wheat': 40,
            'harvesting-milo': 42,
            'drilling': 28,
            'field-cultivation': 22
        };

        const SERVICE_NAMES = {
            'planting': 'Planting',
            'disking': 'Disking',
            'ripping': 'Ripping',
            'deep-ripping': 'Deep Ripping',
            'harvesting-corn': 'Harvesting - Corn',
            'harvesting-wheat': 'Harvesting - Wheat',
            'harvesting-milo': 'Harvesting - Milo',
            'drilling': 'Drilling',
            'field-cultivation': 'Field Cultivation'
        };

        // Calculate discount based on acres
        function calculateDiscount(acres) {
            if (acres >= 300) return 0.14;
            if (acres >= 200) return 0.10;
            if (acres >= 100) return 0.07;
            return 0;
        }

        // Form submission
        document.getElementById('farming-calculator').addEventListener('submit', async function(e) {
            e.preventDefault();

            // Get selected services
            const selectedServices = [];
            const checkboxes = document.querySelectorAll('input[name="service"]:checked');

            if (checkboxes.length === 0) {
                alert('Please select at least one service');
                return;
            }

            checkboxes.forEach(cb => {
                selectedServices.push({
                    service: cb.value,
                    name: SERVICE_NAMES[cb.value],
                    pricePerAcre: SERVICE_PRICES[cb.value]
                });
            });

            // Get form data
            const acres = parseInt(document.getElementById('acres').value);
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const location = document.getElementById('location').value;
            const notes = document.getElementById('notes').value;

            // Calculate totals
            let baseTotal = 0;
            const serviceDetails = [];

            selectedServices.forEach(service => {
                const serviceTotal = service.pricePerAcre * acres;
                baseTotal += serviceTotal;
                serviceDetails.push({
                    serviceName: service.name,
                    pricePerAcre: service.pricePerAcre,
                    acres: acres,
                    total: serviceTotal
                });
            });

            const discount = calculateDiscount(acres);
            const discountAmount = baseTotal * discount;
            const finalTotal = baseTotal - discountAmount;

            // Display quote
            const quoteDetails = document.getElementById('quote-details');
            quoteDetails.innerHTML = '';

            // Add selected services
            serviceDetails.forEach(service => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>${service.serviceName} (${acres} acres @ $${service.pricePerAcre}/acre)</span>
                    <strong>$${service.total.toFixed(2)}</strong>
                `;
                quoteDetails.appendChild(li);
            });

            // Add subtotal
            const subtotalLi = document.createElement('li');
            subtotalLi.innerHTML = `
                <span>Subtotal</span>
                <strong>$${baseTotal.toFixed(2)}</strong>
            `;
            quoteDetails.appendChild(subtotalLi);

            // Add discount if applicable
            if (discount > 0) {
                const discountLi = document.createElement('li');
                discountLi.innerHTML = `
                    <span>Volume Discount (${(discount * 100).toFixed(0)}%)</span>
                    <strong style="color: #2d5016;">-$${discountAmount.toFixed(2)}</strong>
                `;
                quoteDetails.appendChild(discountLi);
            }

            // Display total
            document.getElementById('quote-total').textContent = `Total: $${finalTotal.toFixed(2)}`;

            // Display discount notice
            const noticeDiv = document.getElementById('discount-notice');
            if (discount > 0) {
                noticeDiv.textContent = `Volume discount of ${(discount * 100).toFixed(0)}% applied! You saved $${discountAmount.toFixed(2)}`;
            } else if (acres < 100) {
                const needed = 100 - acres;
                noticeDiv.textContent = `Add ${needed} more acres to qualify for 7% discount`;
            } else {
                noticeDiv.textContent = '';
            }

            // Show quote summary
            document.getElementById('quote-summary').classList.add('show');

            // Disable submit button
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';

            // Submit to backend
            try {
                const response = await fetch('/api/services/request', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name: name,
                        phone: phone,
                        email: email,
                        serviceType: 'custom-farming',
                        services: selectedServices.map(s => s.service),
                        serviceDetails: serviceDetails,
                        acres: acres,
                        location: location,
                        notes: notes,
                        basePrice: baseTotal,
                        discountPercentage: discount * 100,
                        discountAmount: discountAmount,
                        totalPrice: finalTotal
                    })
                });

                const data = await response.json();

                if (data.success) {
                    // Show success message
                    document.getElementById('success-message').classList.add('show');

                    // Scroll to success message
                    document.getElementById('success-message').scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });

                    // Reset form after 3 seconds
                    setTimeout(() => {
                        document.getElementById('farming-calculator').reset();
                        document.getElementById('quote-summary').classList.remove('show');
                        document.getElementById('success-message').classList.remove('show');
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'Get Quote';
                    }, 5000);
                } else {
                    alert('Error submitting request. Please try again or call us directly.');
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Get Quote';
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error submitting request. Please try again or call us directly.');
                submitBtn.disabled = false;
                submitBtn.textContent = 'Get Quote';
            }
        });

        // Real-time calculation preview (optional)
        document.getElementById('acres').addEventListener('input', function() {
            const acres = parseInt(this.value) || 0;
            const checkboxes = document.querySelectorAll('input[name="service"]:checked');

            if (acres > 0 && checkboxes.length > 0) {
                let baseTotal = 0;
                checkboxes.forEach(cb => {
                    baseTotal += SERVICE_PRICES[cb.value] * acres;
                });

                const discount = calculateDiscount(acres);
                const finalTotal = baseTotal * (1 - discount);

                // Could show a live preview here
            }
        });
    </script>
</body>
</html>
